<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>嘿毛寵物旅館 | 線上預約-住宿</title>
    <link rel="icon" href="../assets/images/logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.css">
</head>

<body class="bg-secondary-l">
    <%- include('./layout/memberCenter-header', { currentPage: 'reserve-stay' }); -%>

        <div class="bg-two-paws">
            <div class="container">
                <main class="reverse">
                    <div class="row justify-content-center">
                        <div class="col-lg-10 col-xl-8">
                            <h2 class="title-font text-center mt-lg-5 mb-5">服務預約</h2>
                            <form class="py-5 px-2 px-md-5 bg-white rounded-1 needs-validation" novalidate>
                                <%- include('./component/reverse-service', { currentPage : 'stay' }); -%>
                                    <h3 class="title-line position-relative mb-3"><span
                                            class="fs-1 fw-bold me-2">2</span>選擇房型</h3>
                                    <div class="d-flex justify-content-between py-5 reverse-option">
                                        <div class="form-check form-check-inline w-30 w-xl-25 p-0 m-0">
                                            <input class="form-check-input d-none" type="radio" name="room" id="small"
                                                value="小狗香香房" required>
                                            <label
                                                class="form-check-label option-link text-center border border-primary rounded-pill p-3 py-md-4 w-100"
                                                for="small">小狗<span class="d-block d-md-inline">香香房</span></label>
                                        </div>
                                        <div class="form-check form-check-inline w-30 w-xl-25 p-0 m-0">
                                            <input class="form-check-input d-none" type="radio" name="room" id="medium"
                                                value="中犬呼嚕房" required>
                                            <label
                                                class="form-check-label option-link text-center border border-primary rounded-pill p-3 py-md-4 w-100"
                                                for="medium">忠犬<span class="d-block d-md-inline">呼嚕房</span></label>
                                        </div>
                                        <div class="form-check form-check-inline w-30 w-xl-25 p-0 m-0">
                                            <input class="form-check-input d-none" type="radio" name="room" id="large"
                                                value="大狗好眠房" required>
                                            <label
                                                class="form-check-label option-link text-center border border-primary rounded-pill p-3 py-md-4 w-100"
                                                for="large">大狗<span class="d-block d-md-inline">好眠房</span></label>
                                        </div>
                                    </div>
                                    <h3 class="title-line position-relative mb-3"><span
                                            class="fs-1 fw-bold me-2">3</span>選擇日期</h3>
                                    <div class="reverse-time py-5">
                                        <div class="row row-cols-1 row-cols-md-3 align-items-center gy-4 gy-md-0 mb-4">
                                            <div class="col">
                                                <div class="row">
                                                    <label for="from" class="col-auto col-form-label me-3">從</label>
                                                    <div class="col">
                                                        <input type="text" id="from" name="from"
                                                            class="form-control py-1 px-3 rounded-pill w-75 w-md-100 text-center "
                                                            required>
                                                        <div class="invalid-feedback">
                                                            請選擇入住日期
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="row">
                                                    <label for="to" class="col-auto col-form-label me-3">到</label>
                                                    <div class="col">
                                                        <input type="text" id="to" name="to"
                                                            class="form-control py-1 px-3 rounded-pill w-75 w-md-100 text-center"
                                                            required>
                                                        <div class="invalid-feedback">
                                                            請選擇退房日期
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <span>共計_____日</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="row">
                                                    <label for="timepicker" class="col-auto col-form-label">時間</label>
                                                    <div class="col">
                                                        <input type="text" id="timepicker" name="time"
                                                            class="timepicker form-control py-1 px-4 rounded-pill w-75 w-md-100 text-center"
                                                            required>
                                                        <div class="invalid-feedback">
                                                            請選擇預約時間
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <h3 class="title-line position-relative mb-3"><span
                                            class="fs-1 fw-bold me-2">4</span>填寫資料</h3>
                                    <%- include('./component/reverse-info'); -%>
                            </form>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <%- include('./layout/footer'); -%>

            <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
            <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js"></script>
            <script type="module" src="../main.js"></script>
            <script>
                const hamBtn = document.querySelector(".ham");
                const mobileMenu = document.querySelector(".mobile-menu .menu");
                const hamCloseBtn = document.querySelector(".closedHam");
                const body = document.body;

                function toggleMenu() {
                    mobileMenu.classList.toggle('open');
                    body.classList.toggle('hidden-y');
                };

                hamBtn.addEventListener('click', toggleMenu);
                hamCloseBtn.addEventListener("click", toggleMenu);

                // 日期選擇
                $(function () {
                    //設定中文語系
                    $.datepicker.regional['zh-TW'] = {
                        dayNames: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
                        dayNamesMin: ["日", "一", "二", "三", "四", "五", "六"],
                        monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
                        monthNamesShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
                        prevText: "上月",
                        nextText: "次月",
                        weekHeader: "週"
                    };
                    //將預設語系設定為中文
                    $.datepicker.setDefaults($.datepicker.regional["zh-TW"]);
                    $(function () {
                        $("#from").datepicker({
                            dateFormat: "yy-mm-dd",
                            minDate: 1,
                            changeMonth: true,
                            numberOfMonths: 1,
                            onClose: function (selectedDate) {
                                $("#to").datepicker("option", "minDate", selectedDate);
                            }
                        });
                        $("#to").datepicker({
                            dateFormat: "yy-mm-dd",
                            maxDate: "+3M",
                            changeMonth: true,
                            numberOfMonths: 1,
                            onClose: function (selectedDate) {
                                $("#from").datepicker("option", "maxDate", selectedDate);
                            }
                        });
                    });
                });

                // 時間選擇
                $('.timepicker').timepicker({
                    timeFormat: 'h:mm p',// 時間隔式
                    interval: 30,//時間間隔
                    minTime: '9',//最小時間
                    maxTime: '21:00pm',//最大時間
                    //defaultTime: '9',//預設起始時間
                    startTime: '9:00',//開始時間
                    dynamic: true,//是否顯示項目，使第一個項目按時間順序緊接在所選時間之後
                    dropdown: true,//是否顯示時間條目的下拉列表
                    scrollbar: true//是否顯示捲軸
                });

                // Validation
                (function () {
                    'use strict'
                    var forms = document.querySelectorAll('.needs-validation')
                    Array.prototype.slice.call(forms)
                        .forEach(function (form) {
                            form.addEventListener('submit', function (event) {
                                if (!form.checkValidity()) {
                                    event.preventDefault()
                                    event.stopPropagation()
                                }

                                form.classList.add('was-validated')
                            }, false)
                        })
                })();
            </script>
</body>

</html>